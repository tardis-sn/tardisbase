
<!DOCTYPE html>


<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>tardisbase.testing.regression_comparison.file_manager module &#8212; tardisbase 0.1.dev1+g854ce9f.d20250721 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <script src="../_static/documentation_options.js?v=5ada7277"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="tardisbase.testing.regression_comparison.util module" href="tardisbase.testing.regression_comparison.util.html" />
    <link rel="prev" title="tardisbase.testing.regression_comparison.compare module" href="tardisbase.testing.regression_comparison.compare.html" />
    <link href="../_static/tardis.css" rel="stylesheet" type="text/css">

  </head><body>
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-53HJHD1BWS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-53HJHD1BWS');
  </script>
  <a href="http://github.com/tardis-sn/tardis"><img style="position: fixed; top: 0px; right: 0; border: 0; z-index: 100000;image-orientation: 90deg;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"/></a>

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-tardisbase.testing.regression_comparison.file_manager">
<span id="tardisbase-testing-regression-comparison-file-manager-module"></span><h1>tardisbase.testing.regression_comparison.file_manager module<a class="headerlink" href="#module-tardisbase.testing.regression_comparison.file_manager" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="tardisbase.testing.regression_comparison.file_manager.FileManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tardisbase.testing.regression_comparison.file_manager.</span></span><span class="sig-name descname"><span class="pre">FileManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tardisbase/testing/regression_comparison/file_manager.html#FileManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tardisbase.testing.regression_comparison.file_manager.FileManager" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class for managing temporary directories and file operations for regression data comparisons.</p>
<p>This class provides a interface for creating and managing temporary
directories, handling file copying operations, and maintaining consistent path
management across the comparison workflow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>repo_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>Path</em><em>, </em><em>optional</em>) – Path to the repository containing regression data, by default None.
If None, uses the path specified in CONFIG[‘compare_path’].</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tardisbase.testing.regression_comparison.file_manager.FileManager.copy_file">
<span class="sig-name descname"><span class="pre">copy_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tardisbase/testing/regression_comparison/file_manager.html#FileManager.copy_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tardisbase.testing.regression_comparison.file_manager.FileManager.copy_file" title="Link to this definition">¶</a></dt>
<dd><p>Copy a file to the temporary directory with metadata preservation.</p>
<p>This method copies a file from the source location to a destination
within the temporary directory, preserving file metadata including
timestamps and permissions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>Path</em>) – Path to the source file to be copied.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Relative path for the destination file within the temporary directory.
The file will be copied to temp_dir/destination.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Uses shutil.copy2() to preserve file metadata including access and
modification times. The destination path is automatically resolved
relative to the temporary directory using get_temp_path().</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tardisbase.testing.regression_comparison.file_manager.FileManager.get_temp_path">
<span class="sig-name descname"><span class="pre">get_temp_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tardisbase/testing/regression_comparison/file_manager.html#FileManager.get_temp_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tardisbase.testing.regression_comparison.file_manager.FileManager.get_temp_path" title="Link to this definition">¶</a></dt>
<dd><p>Get the full path to a file or directory within the temporary directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Name of the file or subdirectory within the temporary directory.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Full path to the specified file or directory within temp_dir.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method assumes that setup() has been called and temp_dir is available.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tardisbase.testing.regression_comparison.file_manager.FileManager.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tardisbase/testing/regression_comparison/file_manager.html#FileManager.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tardisbase.testing.regression_comparison.file_manager.FileManager.setup" title="Link to this definition">¶</a></dt>
<dd><p>Create a temporary directory for file operations.</p>
<p>This method creates a new temporary directory using the configured prefix
and stores its path for use in subsequent operations. The directory name
includes a prefix specified in CONFIG[‘temp_dir_prefix’].</p>
<p class="rubric">Notes</p>
<p>The temporary directory path is stored in self.temp_dir and can be
accessed using get_temp_path() for subdirectory operations. The directory
should be cleaned up using teardown() when no longer needed.</p>
<p>Prints the path of the created temporary directory for logging purposes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tardisbase.testing.regression_comparison.file_manager.FileManager.teardown">
<span class="sig-name descname"><span class="pre">teardown</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tardisbase/testing/regression_comparison/file_manager.html#FileManager.teardown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tardisbase.testing.regression_comparison.file_manager.FileManager.teardown" title="Link to this definition">¶</a></dt>
<dd><p>Remove the temporary directory and clean up resources.</p>
<p>This method safely removes the temporary directory and all its contents,
resetting the temp_dir attribute to None. It includes safety checks to
ensure the directory exists before attempting removal.</p>
<p class="rubric">Notes</p>
<p>This method should be called after completing all file operations to
ensure proper cleanup of temporary resources. It safely handles cases
where the temporary directory doesn’t exist or has already been removed.</p>
<p>Prints confirmation of directory removal for logging purposes.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tardisbase.testing.regression_comparison.file_manager.FileSetup">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tardisbase.testing.regression_comparison.file_manager.</span></span><span class="sig-name descname"><span class="pre">FileSetup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref1_hash</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref2_hash</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tardisbase/testing/regression_comparison/file_manager.html#FileSetup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tardisbase.testing.regression_comparison.file_manager.FileSetup" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class for setting up reference files from git commits for comparison.</p>
<p>This class handles the extraction and setup of reference data from specific
git commits or the current repository state, organizing them into separate
directories for comparison operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_manager</strong> (<a class="reference internal" href="#tardisbase.testing.regression_comparison.file_manager.FileManager" title="tardisbase.testing.regression_comparison.file_manager.FileManager"><em>FileManager</em></a>) – An instance of FileManager that provides temporary directory management.</p></li>
<li><p><strong>ref1_hash</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>None</em>) – Git commit hash for the first reference dataset.
If None, the current repository state will be used.</p></li>
<li><p><strong>ref2_hash</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>None</em>) – Git commit hash for the second reference dataset.
If None, the current repository state will be used.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tardisbase.testing.regression_comparison.file_manager.FileSetup.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tardisbase/testing/regression_comparison/file_manager.html#FileSetup.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tardisbase.testing.regression_comparison.file_manager.FileSetup.setup" title="Link to this definition">¶</a></dt>
<dd><p>Set up reference directories with data from specified git commits.</p>
<p>This method creates separate directories (ref1, ref2) within the temporary
directory and populates them with data from the specified git commits.
If a commit hash is None, the current repository state is used instead.</p>
<p class="rubric">Notes</p>
<p>The method creates two reference directories:
- ref1: Contains data from ref1_hash commit (or current state if None)
- ref2: Contains data from ref2_hash commit (or current state if None)</p>
<p>For git commits, uses ‘git archive’ to extract files efficiently.
For current state, copies all files from the repository directory.</p>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">tardisbase</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="tardisbase.html">tardisbase package</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="modules.html">tardisbase</a><ul>
  <li><a href="tardisbase.html">tardisbase package</a><ul>
  <li><a href="tardisbase.testing.html">tardisbase.testing package</a><ul>
  <li><a href="tardisbase.testing.regression_comparison.html">tardisbase.testing.regression_comparison package</a><ul>
      <li>Previous: <a href="tardisbase.testing.regression_comparison.compare.html" title="previous chapter">tardisbase.testing.regression_comparison.compare module</a></li>
      <li>Next: <a href="tardisbase.testing.regression_comparison.util.html" title="next chapter">tardisbase.testing.regression_comparison.util module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, TARDIS Collaboration.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/api/tardisbase.testing.regression_comparison.file_manager.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>